<h2>Add Person</h2>
<form [formGroup]="personForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="firstName">First Name</label>
    <input
      type="text"
      formControlName="firstName"
      class="form-control"
      [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }"
    />
    <div *ngIf="submitted && f.firstName.errors" class="invalid-feedback">
      <div *ngIf="f.firstName.errors.required">First Name is required</div>
    </div>
  </div>
  <div class="form-group">
    <label for="lastName">Last Name</label>
    <input
      type="text"
      formControlName="lastName"
      class="form-control"
      [ngClass]="{ 'is-invalid': submitted && f.lastName.errors }"
    />
    <div *ngIf="submitted && f.lastName.errors" class="invalid-feedback">
      <div *ngIf="f.lastName.errors.required">Last Name is required</div>
    </div>
  </div>
  <div class="form-group">
    <label for="birthDate">BirthDate</label>
    <input
      type="date"
      formControlName="birthDate"
      class="form-control"
      [ngClass]="{ 'is-invalid': submitted && f.birthDate.errors }"
    />
    <div *ngIf="submitted && f.birthDate.errors" class="invalid-feedback">
      <div *ngIf="f.birthDate.errors.required">Birth date is required</div>
    </div>
  </div>

  <div class="form-group">
    <label for="birthDate">Upload Image</label>
    <input
      #imageInput
      type="file"
      formControlName="image"
      class="form-control"
      accept="image/*"
      (change)="processFile(imageInput)"
      [ngClass]="{ 'is-invalid': submitted && f.image.errors }"
    />
    <div *ngIf="submitted && f.image.errors" class="invalid-feedback">
      <div *ngIf="f.image.errors.required">Image is required</div>
    </div>
  </div>

  <div class="form-group">
    <label for="birthDate">Hobbies</label>
    <ng-multiselect-dropdown
      formControlName="hobbies"
      [placeholder]="'Select hobbies'"
      [data]="allHobbies"
      [settings]="dropdownSettings"
    >
    </ng-multiselect-dropdown>
  </div>

  <div class="form-group">
    <button [disabled]="loading" class="btn btn-primary">
      <span
        *ngIf="loading"
        class="spinner-border spinner-border-sm mr-1"
      ></span>
      Save
    </button>
    <a routerLink="/persons" class="btn btn-link">Cancel</a>
  </div>
</form>
